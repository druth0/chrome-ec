# Copyright 2025 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

CONFIG_BOARD_HELIPILOT=y

# System Controller drivers
CONFIG_SYSCON=y

# NPCX Flash driver options
CONFIG_PLATFORM_EC_USE_ZEPHYR_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_JESD216_API=y

# NPCX entropy driver options
CONFIG_ENTROPY_GENERATOR=y

# Set security strength to 256b
CONFIG_ENTROPY_NPCX_DRBG_SECURITY_STRENGTH_256B=y

# Watchdog
CONFIG_PLATFORM_EC_WATCHDOG_PERIOD_MS=10000
CONFIG_WDT_NPCX_WARNING_LEADING_TIME_MS=3000

# Disable flash shell, shell help, history and tab for helipilot to save space
CONFIG_FLASH_SHELL=n
CONFIG_SHELL_HELP=n
CONFIG_SHELL_HISTORY=n
CONFIG_SHELL_TAB=n
CONFIG_SHELL_TAB_AUTOCOMPLETION=n
CONFIG_SHELL_VT100_COMMANDS=n

# Disable math util and unnecessary console commands to save space
CONFIG_PLATFORM_EC_MATH_UTIL=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_GETTIME=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_WAITMS=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_HCDEBUG=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_TIMERINFO=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_CRASH=n
CONFIG_PLATFORM_EC_CONSOLE_CMD_CRASH_NESTED=n

# Host Commands
CONFIG_EC_HOST_CMD_INITIALIZE_AT_BOOT=n
CONFIG_EC_HOST_CMD_HANDLER_TX_BUFFER_SIZE=549
CONFIG_EC_HOST_CMD_HANDLER_RX_BUFFER_SIZE=544
CONFIG_EC_HOST_CMD_BACKEND_SHI=y
CONFIG_EC_HOST_CMD_BACKEND_UART=y
CONFIG_UART_ASYNC_API=y
CONFIG_UART_NPCX_USE_MDMA=y

# The NULL pointer exception page size must be a power of two
# and have size greater or equal ARM_MPU_REGION_MIN_ALIGN_AND_SIZE
CONFIG_CORTEX_M_NULL_POINTER_EXCEPTION_PAGE_SIZE=0x80

# Config CROS EC sizes according to helipilot memory map
# These values must be kept in sync with the flash and sram node
# definitions in helipilot.dts
CONFIG_CROS_EC_RW_SIZE=0x50000
CONFIG_CROS_EC_RAM_BASE=0x200A8000
CONFIG_CROS_EC_DATA_RAM_SIZE=0x30000
CONFIG_CROS_EC_RAM_SIZE=0x2F000
CONFIG_CROS_EC_RO_SIZE=0x50000
